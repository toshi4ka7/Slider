{"version":3,"sources":["slider.js","app.js"],"names":["config","width","count","move","Slider","selector","options","container","document","querySelector","style","transition","console","error","state","filter","history","position","pages","widthItem","page","controlPrev","classList","add","controlStart","controlNext","remove","controlEnd","transform","goToPage","items","Array","from","children","itemsCount","length","next","prev","start","end","addEventListener","bind","states","forEach","mediaWidth","map","sort","a","b","window","windowHandler","Math","ceil","i","array","slice","push","module","exports","e","windowWidth","innerWidth","type","goToCount","elem","index","includes","log","setTimeout","slider","s"],"mappings":"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","file":"app.c328ef1a.js","sourceRoot":"..","sourcesContent":["const config = [{\r\n  width: 0,\r\n  count: 3,\r\n  move: 1,\r\n}]\r\n\r\nclass Slider { \r\n  constructor(selector, options = {}) {\r\n    this.container = document.querySelector(selector)\r\n\r\n    if (this.container) {\r\n      this.container.style.transition = 'transform 0.6s'\r\n      this.#Init(options)\r\n    } else {\r\n      console.error(`Not element with selector = ${this.selector}`)\r\n    }\r\n  }\r\n\r\n  #Init(options) {\r\n    this.items = Array.from(this.container.children)\r\n    this.itemsCount = this.items.length\r\n\r\n    this.controlNext = document.querySelector(options.next)\r\n    this.controlPrev = document.querySelector(options.prev)\r\n    this.controlStart = document.querySelector(options.start)\r\n    this.controlEnd = document.querySelector(options.end)\r\n\r\n    if (this.controlNext) this.controlNext.addEventListener('click', this.next.bind(this))\r\n    if (this.controlPrev) this.controlPrev.addEventListener('click', this.prev.bind(this))\r\n    if (this.controlStart) this.controlStart.addEventListener('click', this.start.bind(this))\r\n    if (this.controlEnd) this.controlEnd.addEventListener('click', this.end.bind(this))\r\n\r\n\r\n    this.state = []\r\n    const state = options.states || config\r\n    state.forEach((state) => {\r\n      this.#createState(state.width, state.count, state.move)\r\n    })\r\n\r\n    this.mediaWidth = this.state.map((state) => {\r\n      return state.width\r\n    }).sort((a,b) => a - b)\r\n\r\n\r\n    window.addEventListener('resize', windowHandler.bind(this))\r\n    window.addEventListener('load', windowHandler.bind(this))\r\n\r\n    //this.goToCount(3)\r\n    //this.goToPage(1)\r\n\r\n\r\n    //this.state = 0\r\n    //this.page = 1\r\n    //this.goToPage(this.page)\r\n\r\n    \r\n  \r\n  }\r\n\r\n  goToCount(count) {\r\n    const state = this.state.filter((state) => {\r\n      if (state.count === count) return true\r\n    })[0]\r\n\r\n    this.width = state.width\r\n    this.history = state.history\r\n    this.position = state.position\r\n    this.count = state.count\r\n    this.move = state.move\r\n    this.pages = state.pages\r\n    this.widthItem = state.widthItem\r\n  }\r\n\r\n\r\n  #createState(width, count, move) {\r\n    const state = {}\r\n    state.history = []\r\n    state.position = []\r\n    state.width = width\r\n    state.count = count\r\n    state.move = move\r\n    state.pages = Math.ceil((this.itemsCount - state.count) / state.move) + 1\r\n    state.widthItem = 100 / state.count\r\n    \r\n    let start = 0\r\n    for (let i = 0; i < state.pages; i++) {\r\n      const array = this.items.slice(start, start + state.count)\r\n      state.history.push(array)\r\n      state.position.push(-i * state.widthItem * state.move)\r\n      start += state.move\r\n    }\r\n\r\n    if (state.history[state.history.length - 1].length !== state.count) {\r\n      state.history[state.history.length - 1] = this.items.slice(-state.count)\r\n      state.position[state.position.length - 1] = -(this.itemsCount - state.count) * state.widthItem\r\n    }\r\n\r\n    this.state.push(state)\r\n  }\r\n\r\n  goToPage(page) {\r\n    if (page <= 0 || page > this.pages) return;\r\n    this.page = page\r\n\r\n    if (page === 1) {\r\n      if (this.controlPrev) this.controlPrev.classList.add('disabled')\r\n      if (this.controlStart) this.controlStart.classList.add('disabled')\r\n      if (this.controlNext) this.controlNext.classList.remove('disabled')\r\n      if (this.controlEnd) this.controlEnd.classList.remove('disabled')\r\n    } else if(page === this.pages) {\r\n      if (this.controlPrev) this.controlPrev.classList.remove('disabled')\r\n      if (this.controlStart) this.controlStart.classList.remove('disabled')\r\n      if (this.controlNext) this.controlNext.classList.add('disabled')\r\n      if (this.controlEnd) this.controlEnd.classList.add('disabled')\r\n    } else {\r\n      if (this.controlNext) this.controlNext.classList.remove('disabled')\r\n      if (this.controlPrev) this.controlPrev.classList.remove('disabled')\r\n      if (this.controlStart) this.controlStart.classList.remove('disabled')\r\n      if (this.controlEnd) this.controlEnd.classList.remove('disabled')\r\n    }\r\n\r\n    const position = this.position[page - 1]\r\n    this.container.style.transform = `translateX(${position}%)`\r\n  }\r\n\r\n  next() {\r\n    this.goToPage(this.page + 1)\r\n  }\r\n\r\n  prev() {\r\n    this.goToPage(this.page - 1)\r\n\r\n  }\r\n\r\n  start() {\r\n    this.goToPage(1)\r\n  }\r\n\r\n  end() {\r\n    this.goToPage(this.pages)\r\n  }\r\n\r\n\r\n\r\n\r\n}\r\n\r\nmodule.exports = Slider\r\n\r\nfunction windowHandler(e) {\r\n  const windowWidth = window.innerWidth\r\n\r\n  const width = this.mediaWidth.filter((width) => {\r\n    if (width >= windowWidth) return true\r\n  })[0]\r\n\r\n  const count = this.state.filter((state) => {\r\n    if (state.width === width) return true\r\n  })[0].count\r\n\r\n\r\n  if (e.type === 'load') {\r\n    this.goToCount(count)\r\n    this.goToPage(1)\r\n    return\r\n  }\r\n\r\n  if (count === this.count) return\r\n\r\n\r\n  const elem = this.history[this.page - 1][0]\r\n  this.goToCount(count)\r\n\r\n  this.history.forEach((array, index) => {\r\n    if (array.includes(elem)) {\r\n      console.log(index + 1)\r\n      this.container.style.transition = 'none'\r\n      this.goToPage(index + 1)\r\n      setTimeout(() => {\r\n        this.container.style.transition = 'transform 0.6s'\r\n      }, 0)\r\n      \r\n      return\r\n    }\r\n  })\r\n\r\n\r\n\r\n\r\n  //this.goToPage(1)\r\n}","import Slider from './slider'\r\n\r\nconst slider = new Slider('.slider__items', {\r\n  prev: '.slider__control-left',\r\n  next: '.slider__control-right',\r\n  start: '.slider__control-start',\r\n  end: '.slider__control-end',\r\n  states: [\r\n    {\r\n      width: 5000,\r\n      count: 3,\r\n      move: 3\r\n    },\r\n    {\r\n      width: 800,\r\n      count: 2,\r\n      move: 1\r\n    },\r\n    {\r\n      width: 500,\r\n      count: 1,\r\n      move: 1\r\n    }\r\n  ]\r\n  \r\n})\r\n\r\nwindow.s = slider"]}